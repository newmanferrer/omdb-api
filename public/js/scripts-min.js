"use strict";function asyncGeneratorStep(e,a,t,o,n,r,s){try{var i=e[r](s),d=i.value}catch(e){return void t(e)}i.done?a(d):Promise.resolve(d).then(o,n)}function _asyncToGenerator(e){return function(){var a=this,t=arguments;return new Promise((function(o,n){var r=e.apply(a,t);function s(e){asyncGeneratorStep(r,o,n,s,i,"next",e)}function i(e){asyncGeneratorStep(r,o,n,s,i,"throw",e)}s(void 0)}))}}var d=document,w=window,ids=[],arrayUsers=[],page=1,totalPages=0,moviesForPage=10,KEY="7bdaf2a9",DOMAIN="http://www.omdbapi.com",API_KEY="/?apikey=".concat(KEY),URL_BASE="".concat(DOMAIN).concat(API_KEY,"&"),END_POINT_MOVIE="".concat(URL_BASE,"i="),END_POINT_MOVIES="".concat(URL_BASE,"s="),options={method:"GET","Content-type":"application/json"},$formLogin=d.getElementById("formLogin"),$formLoginInputs=d.querySelectorAll(".login-input"),$formLoginLoader=d.getElementById("login-loader"),patternUserName="^([A-Za-z]{6,12})$",patternPassword="^([A-Za-z0-9]{6,8})$",sunIcon="☀️",moonIcon="🌙",$searchUser=d.querySelector(".main-search__user"),$searchSpan=d.querySelector(".main-search__user__span"),$searchDivIcon=d.querySelector(".main-search__user__theme__icon"),$selectors=d.querySelectorAll("[data-light]"),$favoritesDiv=d.querySelector(".main-search__favorites"),$favoritesButton=d.getElementById("favoritesButton"),$formSearch=d.getElementById("formSearch"),$lastSearchDiv=d.querySelector(".main-search__lastSearch.none"),$lastSearchSpan=d.querySelector(".main-search__lastSearch__span"),$lastResultDiv=d.querySelector(".main-search__lastResult"),$lastResultSpan=d.querySelector(".main-search__lastResult__span"),$paginationDiv=d.querySelector(".main-search__pagination"),$paginationLabelLast=d.querySelector(".main-search__pagination__last"),$paginationLabelNext=d.querySelector(".main-search__pagination__next"),$paginationSpan=d.querySelector(".main-search__pagination__span"),$divSearchLoader=d.getElementById("search-loader"),star="⭐",$moviesDiv=d.getElementById("moviesDiv"),$modalMovies=d.getElementById("modalMovies"),$scrollTopButton=d.querySelector(".scroll-top-btn"),$favoritesButtonHome=d.getElementById("favoritesButtonHome"),$favoritesSpan=d.getElementById("favoritesSpan"),$favoritesLoader=d.getElementById("favorites-loader"),$favoritesMoviesContainer=d.getElementById("favoritesMoviesContainer"),$errorMessageContainerSearch=d.querySelector(".main-search__errorMessages"),$errorMessageContainerFavorites=d.querySelector(".main-favorites__errorMessages"),networkStatus=()=>{var e=d.createElement("div"),a=d.querySelector(".footer");window.navigator.onLine?(e.textContent="nuevamente conectado",e.classList.add("onLine"),e.classList.remove("offLine"),setTimeout(()=>{w.location.reload()},5e3)):(e.textContent="sin conexión",e.classList.add("offLine"),e.classList.remove("onLine")),a.insertAdjacentElement("beforeend",e),setTimeout(()=>{e.textContent="",e.classList.remove("onLine"),e.classList.remove("offLine")},5e3)},scrollTopButton=()=>{window.addEventListener("scroll",e=>{e.preventDefault(),(window.pageYOffset||d.documentElement.scrollTop)>1500?$scrollTopButton.classList.remove("hidden"):$scrollTopButton.classList.add("hidden")}),$scrollTopButton.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({behavior:"smooth",top:0})})},pagination=()=>{$paginationSpan.textContent=page,1===page&&1===totalPages?$paginationDiv.classList.add("none"):1===page&&totalPages>1?($paginationDiv.classList.remove("none"),$paginationLabelNext.classList.remove("none"),$paginationLabelLast.classList.add("none")):page>1&&page<totalPages?($paginationDiv.classList.remove("none"),$paginationLabelLast.classList.remove("none"),$paginationLabelNext.classList.remove("none")):page>1&&page>=totalPages&&($paginationDiv.classList.remove("none"),$paginationLabelLast.classList.remove("none"),$paginationLabelNext.classList.add("none"))},generateId=()=>{var e=Math.random().toString(16).substr(2);return void 0===ids.find(a=>a===e)?ids.push(e):generateId(),e},redirectToLogin=()=>{d.location.href="index.html"},redirectToSearch=()=>{d.location.href="search.html"},redirectToFavorites=()=>{d.location.href="favorites.html"},formLoginDataUser=()=>{$formLoginInputs.forEach(e=>{var a=d.createElement("span");a.id=e.name,a.textContent=e.title,a.classList.add("form-input-error","none"),e.insertAdjacentElement("afterend",a)}),d.addEventListener("keyup",e=>{if(e.target.matches(".login-input")){var{name:a,title:t,value:o}=e.target,{pattern:n}=e.target;if(""===o?(d.getElementById(a).classList.add("is-active"),d.getElementById(a).textContent="username"===a?"Nombre de usuario requerido":"Contraseña requerida"):d.getElementById(a).textContent=t,"username"!==a||n&&""!==n&&n===patternUserName||(n=patternUserName,alert("Alerta: Posible manipulación inadecuada del html en línea. (username patern)"),window.location.reload()),"password"!==a||n&&""!==n&&n===patternPassword||(n=patternPassword,alert("Alerta: Posible manipulación inadecuada del html en línea. (password patern)"),window.location.reload()),o.length>=0)new RegExp(n).exec(o)?d.getElementById(a).classList.remove("is-active"):d.getElementById(a).classList.add("is-active")}})},formLoginValidations=()=>{var e=$formLogin.username.value,a=$formLogin.password.value,t=new RegExp(patternUserName),o=new RegExp(patternPassword);return""!==e&&""!==a&&!(!t.exec(e)||!o.exec(a))},localStorageAddUsers=()=>{localStorage.setItem("users",JSON.stringify(arrayUsers))},sessionStorageAddUser=e=>{sessionStorage.setItem("session",JSON.stringify(e))},createUser=(e,a)=>{var t={id:generateId(),name:e,password:a,lastSearch:"",theme:"darkmode",favorites:[]};arrayUsers.push(t),localStorageAddUsers(),sessionStorageAddUser(t)},getLocalStorage=()=>JSON.parse(localStorage.getItem("users")),getSessionStorage=()=>JSON.parse(sessionStorage.getItem("session")),sessionValidate=(()=>{var e=getSessionStorage(),a=window.location.pathname;"/search.html"!==a&&"/favorites.html"!==a||e||redirectToLogin()})(),closeSession=()=>{sessionStorage.removeItem("session"),redirectToLogin()},localStorageValidateUsers=(e,a)=>{arrayUsers=getLocalStorage();var t=!1;null===arrayUsers?arrayUsers=[]:arrayUsers.find(o=>(o.name===e&&o.password===a?(t=!0,sessionStorageAddUser(o)):t=!1,t)),!1===t?(createUser(e,a),redirectToSearch()):redirectToSearch()},setLocalStorageLastSearch=e=>{var a=getSessionStorage().id;(arrayUsers=getLocalStorage()).find(t=>{var o=t;return o.id===a&&(o.lastSearch=e,sessionStorageAddUser(t),localStorageAddUsers(),!0)})},getLocalStorageLastSearch=()=>{var e,a=getSessionStorage().id;return(arrayUsers=getLocalStorage()).find(t=>t.id===a&&(e=t.lastSearch,!0)),e},favoritesValidation=()=>{if(window.location.pathname.includes("/search.html")){var e=getSessionStorage().id;(arrayUsers=getLocalStorage()).find(a=>{if(a.id===e){if(a.favorites.length>0)return $favoritesDiv.classList.remove("none"),!0;$favoritesDiv.classList.add("none")}return!1})}},localStorageSetDelFavorites=e=>{var a=getSessionStorage().id;arrayUsers=getLocalStorage();var t={imdbId:e};arrayUsers.find(o=>{if(o.id===a){var n=o.favorites.findIndex(a=>a.imdbId===e);-1===n?o.favorites.push(t):o.favorites.splice(n,1),sessionStorageAddUser(o),localStorageAddUsers()}return!1}),favoritesValidation()},lightMode=e=>{arrayUsers=getLocalStorage(),$selectors.forEach(e=>e.classList.add("lightTheme")),w.location.pathname.includes("/search.html")&&($searchDivIcon.textContent=moonIcon),arrayUsers.find(a=>{var t=a;return t.id===e&&(t.theme="lightmode",sessionStorageAddUser(a),localStorageAddUsers()),!1})},darkMode=e=>{arrayUsers=getLocalStorage(),$selectors.forEach(e=>e.classList.remove("lightTheme")),w.location.pathname.includes("/search.html")&&($searchDivIcon.textContent=sunIcon),arrayUsers.find(a=>{var t=a;return t.id===e&&(t.theme="darkmode",sessionStorageAddUser(a),localStorageAddUsers()),!1})},validateTheme=()=>{var e=getSessionStorage().id;(arrayUsers=getLocalStorage()).find(a=>(a.id===e&&("darkmode"===a.theme?darkMode(e):lightMode(e)),!1))},callApiOmdb=function(){var e=_asyncToGenerator((function*(e){var a,t,o=e;try{a=yield fetch(o,options),t=yield a.json()}catch(e){var n,r=e.toString();"TypeError: Failed to fetch"===r?("001",n="\n        <p>ERROR CODE: ".concat("001","</p>\n        <p>SIN RESPUESTA DE LA APLICACIÓN</p>\n        <p>VALIDE LA CONEXIÓN A INTERNET</p>\n      ")):n="<p>".concat(r,"</p>"),$errorMessageContainerSearch?$errorMessageContainerSearch.innerHTML=n:$errorMessageContainerFavorites&&($errorMessageContainerFavorites.innerHTML=n)}return{response:a,dataJson:t}}));return function(a){return e.apply(this,arguments)}}(),showMovies=function(){var e=_asyncToGenerator((function*(e){var a,t=getLocalStorageLastSearch(),o=d.createDocumentFragment(),n=0;$divSearchLoader.classList.remove("none"),$moviesDiv.classList.add("none"),$lastSearchDiv.classList.remove("none"),$lastSearchSpan.textContent=t,$errorMessageContainerSearch.classList.add("none");try{var{dataJson:r}=yield callApiOmdb(e);if($divSearchLoader.classList.add("none"),$moviesDiv.classList.remove("none"),"False"===r.Response)throw $lastResultDiv.classList.add("none"),$paginationDiv.classList.add("none"),new Error("".concat(r.Error));"True"===r.Response&&r.Search&&(a=r.Search,n=r.totalResults,totalPages=Math.ceil(n/moviesForPage),$lastResultDiv.classList.remove("none"),$lastResultSpan.textContent=n,$moviesDiv.textContent="",pagination(),a.forEach(e=>{var a=d.createElement("div");a.classList.add("main-search__movies__movie");var t=d.createElement("button");t.classList.add("main-search__movies__movie__button");var n=getSessionStorage().id;(arrayUsers=getLocalStorage()).find(a=>(a.id===n&&a.favorites.find(a=>(a.imdbId===e.imdbID&&(t.classList.add("movieIsFavorite"),$favoritesDiv.classList.remove("none")),!1)),!1)),t.textContent=star,t.setAttribute("data-imdbId",e.imdbID);var r=d.createElement("img");r.classList.add("main-search__movies__movie__image"),r.src="N/A"!==e.Poster?e.Poster:"assets/img/no-image.jpg",r.alt=e.Title?e.Title:"No title",r.setAttribute("data-imdbId",e.imdbID);var s=d.createElement("span");s.classList.add("main-search__movies__movie__spanTitle"),s.textContent=e.Title?e.Title:"No title";var i=d.createElement("span");i.classList.add("main-search__movies__movie__spanYear"),i.textContent=e.Year?e.Year:"No Year";var l=d.createElement("span");l.classList.add("main-search__movies__movie__spanType"),l.textContent=e.Type?e.Type:"No Type";var c=d.createElement("span");c.classList.add("main-search__movies__movie__spanImdbId"),c.setAttribute("data-imdbId",e.imdbID),a.appendChild(t),a.appendChild(r),a.appendChild(s),a.appendChild(i),a.appendChild(l),a.appendChild(c),o.appendChild(a)}),$moviesDiv.appendChild(o))}catch(e){var s,i=e.toString();"Error: Movie not found!"===i?s="\n        <p>Lo sentimos, sin resultados...</p>\n        <p>Movie not found!</p>\n      ":"TypeError: Cannot read property 'Response' of undefined"===i?("002",s="\n        <p>ERROR CODE: ".concat("002","</p>\n        <p>SIN DATA NI RESPUESTA DE LA APLICACIÓN</p>\n        <p>VALIDE LA CONEXIÓN A INTERNET</p>\n      ")):s="<p>".concat(i,"</p>"),"/search.html"===w.location.pathname&&($moviesDiv.innerHTML="",$errorMessageContainerSearch.classList.remove("none"),$errorMessageContainerSearch.innerHTML="",$errorMessageContainerSearch.innerHTML=s)}}));return function(a){return e.apply(this,arguments)}}(),showMovieModal=function(){var e=_asyncToGenerator((function*(e){$divSearchLoader.classList.remove("none");var a=d.createDocumentFragment();try{var{dataJson:t}=yield callApiOmdb(e);if($divSearchLoader.classList.add("none"),"False"===t.Response)throw new Error("".concat(t.Error));if("True"===t.Response){var o=d.createElement("div");o.classList.add("main-search__modal-movies__movieContent");var n=d.createElement("div");n.classList.add("main-search__modal-movies__movieContent__imageButton");var r=d.createElement("img");r.classList.add("main-search__modal-movies__movieContent__imageButton__image"),r.src="N/A"!==t.Poster?t.Poster:"assets/img/no-image.jpg",r.alt=t.Title?t.Title:"No title",r.setAttribute("data-imdbId",t.imdbID);var s=d.createElement("button");s.classList.add("main-search__modal-movies__movieContent__imageButton__button");var i=getSessionStorage().id;(arrayUsers=getLocalStorage()).find(e=>(e.id===i&&e.favorites.find(e=>(e.imdbId===t.imdbID&&s.classList.add("movieIsFavorite"),!1)),!1)),s.textContent=star,s.setAttribute("data-imdbId",t.imdbID),n.appendChild(r),n.appendChild(s),o.appendChild(n);var l=d.createElement("div");l.classList.add("main-search__modal-movies__movieContent__info");var c=d.createElement("span");c.classList.add("main-search__modal-movies__movieContent__info__spanTitle"),c.textContent=t.Title?t.Title:"No title";var m=d.createElement("span");m.classList.add("main-search__modal-movies__movieContent__info__spanYear"),m.textContent=t.Year?t.Year:"No Year";var v=d.createElement("span");v.classList.add("main-search__movies__movie__info__spanType"),v.textContent=t.Type?t.Type:"No Type";var p=d.createElement("span");p.classList.add("main-search__modal-movies__movieContent__info__spanRuntime"),p.textContent=t.Runtime?t.Runtime:"No Runtime";var _=d.createElement("span");_.classList.add("main-search__modal-movies__movieContent__info__spanLanguage"),_.textContent=t.Language?t.Language:"No Language";var g=d.createElement("span");g.classList.add("main-search__modal-movies__movieContent__info__spanGender"),g.textContent=t.Genre?t.Genre:"No Gender";var h=d.createElement("span");h.classList.add("main-search__modal-movies__movieContent__info__spanCountry"),h.textContent=t.Country?t.Country:"No Country";var L=d.createElement("span");L.classList.add("main-search__modal-movies__movieContent__info__spanActors"),L.textContent=t.Actors?t.Actors:"No Actors";var u=d.createElement("span");u.classList.add("main-search__modal-movies__movieContent__info__spanDirector"),u.textContent=t.Director?t.Director:"No Director";var f=d.createElement("span");f.classList.add("main-search__modal-movies__movieContent__info__spanPlot"),f.textContent=t.Plot?t.Plot:"No Plot",l.appendChild(c),l.appendChild(m),l.appendChild(v),l.appendChild(p),l.appendChild(_),l.appendChild(g),l.appendChild(h),l.appendChild(L),l.appendChild(u),l.appendChild(f),o.appendChild(l),a.appendChild(o),$modalMovies.innerHTML="",$modalMovies.appendChild(a)}}catch(e){var S,E=e.toString();"TypeError: Cannot read property 'Response' of undefined"===E?("002",S="\n        <p>ERROR CODE: ".concat("002","</p>\n        <p>SIN DATA NI RESPUESTA DE LA APLICACIÓN</p>\n        <p>VALIDE LA CONEXIÓN A INTERNET</p>\n      ")):S="<p>".concat(E,"</p>"),$modalMovies&&($modalMovies.innerHTML="",$modalMovies.classList.add("modalErrorMessage"),$modalMovies.innerHTML=S)}}));return function(a){return e.apply(this,arguments)}}(),showFavoritesMovies=function(){var e=_asyncToGenerator((function*(){$favoritesLoader.classList.remove("none"),$favoritesMoviesContainer.classList.add("none"),$errorMessageContainerFavorites.classList.add("none");var e=d.createDocumentFragment(),a=getSessionStorage().id;arrayUsers=getLocalStorage();var t=0;arrayUsers.find(o=>{if(o.id===a&&o.favorites.length>0){var n=o.favorites.length;$favoritesSpan.textContent=n,o.favorites.forEach(function(){var a=_asyncToGenerator((function*(a){t+=1;var{imdbId:o}=a,r="".concat(END_POINT_MOVIE).concat(o);try{var{dataJson:s}=yield callApiOmdb(r);if($favoritesLoader.classList.add("none"),$favoritesMoviesContainer.classList.remove("none"),"False"===s.Response)throw new Error("".concat(s.Error));var i=d.createElement("div");i.classList.add("main-favorites__moviesContainer__movieContainer");var l=d.createElement("button");l.classList.add("main-favorites__moviesContainer__movieContainer__button"),l.classList.add("movieIsFavorite"),l.textContent=star,l.setAttribute("data-imdbId",s.imdbID),i.appendChild(l);var c=d.createElement("img");c.classList.add("main-favorites__moviesContainer__movieContainer__image"),c.src="N/A"!==s.Poster?s.Poster:"assets/img/no-image.jpg",c.alt=s.Title?s.Title:"No title",c.setAttribute("data-imdbId",s.imdbID),i.appendChild(c);var m=d.createElement("span");m.classList.add("main-favorites__moviesContainer__movieContainer__spanTitle"),m.textContent=s.Title?s.Title:"No title",i.appendChild(m);var v=d.createElement("span");v.classList.add("main-favorites__moviesContainer__movieContainer__spanYear"),v.textContent=s.Year?s.Year:"No Year",i.appendChild(v);var p=d.createElement("span");p.classList.add("main-search__movies__movie__spanType"),p.textContent=s.Type?s.Type:"No Type",i.appendChild(p);var _=d.createElement("span");_.classList.add("main-search__movies__movie__spanImdbId"),_.setAttribute("data-imdbId",s.imdbID),i.appendChild(_),e.appendChild(i),t===n&&$favoritesMoviesContainer.appendChild(e)}catch(e){var g,h=e.toString();"TypeError: Cannot read property 'Response' of undefined"===h?("002",g="\n                <p>ERROR CODE: ".concat("002","</p>\n                <p>SIN DATA NI RESPUESTA DE LA APLICACIÓN</p>\n                <p>VALIDE LA CONEXIÓN A INTERNET</p>\n              ")):g="<p>".concat(h,"</p>"),$errorMessageContainerFavorites&&($favoritesMoviesContainer.innerHTML="",$errorMessageContainerFavorites.classList.remove("none"),$errorMessageContainerFavorites.innerHTML="",$errorMessageContainerFavorites.innerHTML=g)}}));return function(e){return a.apply(this,arguments)}}())}return!1})}));return function(){return e.apply(this,arguments)}}(),showLastSearchMovies=()=>{var e=getSessionStorage().id;(arrayUsers=getLocalStorage()).find(a=>{if(a.id===e){var t,{lastSearch:o}=a;""!==o?(t="".concat(END_POINT_MOVIES).concat(o),showMovies(t)):(o="series",t="".concat(END_POINT_MOVIES).concat(o),setLocalStorageLastSearch(o),showMovies(t))}return!1})},getLocalStorageTotalFavoritesMovies=()=>{var e,a=getSessionStorage().id;return(arrayUsers=getLocalStorage()).find(t=>(t.id===a&&(e=t.favorites.length>0?t.favorites.length:0),!1)),e};if(d.addEventListener("DOMContentLoaded",()=>{formLoginDataUser()}),w.location.pathname.includes("/")&&$formLogin&&$formLogin.addEventListener("submit",e=>{if(e.preventDefault(),$formLoginLoader.classList.remove("none"),formLoginValidations()){var a=$formLogin.username.value.toLowerCase(),t=$formLogin.password.value;localStorageValidateUsers(a,t),$formLogin.reset(),$formLoginLoader.classList.add("none")}else alert("Alerta submit: Posible manipulación inadecuada del html en línea"),window.location.reload()}),w.location.pathname.includes("/search.html")){favoritesValidation(),showLastSearchMovies();var sessionUser=getSessionStorage();$searchSpan.textContent=sessionUser.name.toLowerCase(),$searchUser.addEventListener("click",e=>{if(e.preventDefault(),e.target.matches(".main-search__user__button")&&closeSession(),e.target.matches(".main-search__user__theme__icon")){var a=e.target.textContent,t=getSessionStorage().id;a===sunIcon?lightMode(t):darkMode(t)}}),$favoritesButton.addEventListener("click",e=>{e.preventDefault(),redirectToFavorites()}),$formSearch.addEventListener("submit",e=>{e.preventDefault(),page=1;var a=$formSearch.search.value.toLowerCase(),t="".concat(END_POINT_MOVIES).concat(a);$formSearch.reset(),setLocalStorageLastSearch(a),showMovies(t)}),$lastSearchSpan.addEventListener("click",e=>{e.preventDefault();var a=e.target.textContent;$formSearch.search.value=a,$formSearch.search.focus()}),$paginationDiv.addEventListener("click",e=>{e.preventDefault();var a=getLocalStorageLastSearch();e.target.matches(".main-search__pagination__last")?page-=1:e.target.matches(".main-search__pagination__next")&&(page+=1);var t="".concat(END_POINT_MOVIES).concat(a,"&page=").concat(page);showMovies(t)}),$moviesDiv.addEventListener("click",e=>{e.preventDefault();var a=e.target;if(a.matches(".main-search__movies__movie__button")){a.classList.toggle("movieIsFavorite");var t=a.getAttribute("data-imdbId");localStorageSetDelFavorites(t)}}),$moviesDiv.addEventListener("click",e=>{e.preventDefault();var a=e.target;if(a.classList.contains("main-search__movies__movie__image")){d.body.classList.add("overflowModal");var t=a.getAttribute("data-imdbId"),o="".concat(END_POINT_MOVIE).concat(t);$modalMovies.classList.add("showModal"),showMovieModal(o)}}),$modalMovies.addEventListener("click",e=>{e.preventDefault(),e.target.classList.contains("main-search__modal-movies")&&(d.body.classList.remove("overflowModal"),$modalMovies.classList.remove("showModal"))}),$modalMovies.addEventListener("click",e=>{e.preventDefault();var a=e.target;if(a.matches(".main-search__modal-movies__movieContent__imageButton__button")){var t=a.getAttribute("data-imdbId");a.classList.toggle("movieIsFavorite"),$moviesDiv.querySelectorAll(".main-search__movies__movie").forEach(e=>{e.children[5].dataset.imdbid===t&&e.children[0].classList.toggle("movieIsFavorite")}),localStorageSetDelFavorites(t)}})}w.location.pathname.includes("/favorites.html")&&(showFavoritesMovies(),$favoritesButtonHome.addEventListener("click",e=>{e.preventDefault(),redirectToSearch()}),$favoritesMoviesContainer.addEventListener("click",e=>{e.preventDefault();var a=e.target;if(a.matches(".main-favorites__moviesContainer__movieContainer__button")){var t=a.getAttribute("data-imdbId");$favoritesMoviesContainer.querySelectorAll(".main-favorites__moviesContainer__movieContainer").forEach(e=>{e.children[5].dataset.imdbid===t&&(e.children[0].classList.toggle("movieIsFavorite"),e.children[0].parentElement.remove())}),localStorageSetDelFavorites(t),$favoritesSpan.textContent=getLocalStorageTotalFavoritesMovies()}})),(w.location.pathname.includes("/search.html")||w.location.pathname.includes("/favorites.html"))&&(validateTheme(),scrollTopButton()),w.location.pathname.includes("/")&&(window.addEventListener("online",()=>networkStatus()),window.addEventListener("offline",()=>networkStatus()));